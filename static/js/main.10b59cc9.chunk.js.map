{"version":3,"sources":["components/PeopleTable.js","data/dataPeople.js","App.js","index.js"],"names":["PeopleTable","state","selectedPersonId","getClass","people","_this","props","map","person","react_default","a","createElement","key","Math","random","onClick","setState","id","className","classnames","concat","century","people__table--col","person--female","sex","person--male","people__table--col-less1650","born","people__table--col-died1800","died","people__table--col-more65","age","person--father","filter","child","father","name","human","join","person--mother","mother","children","this","React","Component","getPeople","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","response","peopleData","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","apply","arguments","sortPeople","field","direction","sortedData","sort","b","localeCompare","App","visiblePeople","loadData","preparedPeople","index","objectSpread","ceil","sortingBy","prevState","handleSearch","event","search","target","value","toLowerCase","includes","_this2","Fragment","length","placeholder","onChange","components_PeopleTable","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.10b59cc9.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nclass PeopleTable extends React.Component {\n  state = {\n    selectedPersonId: null,\n  };\n\ngetClass = () => {\n  const { people } = this.props;\n  const { selectedPersonId } = this.state;\n  const result = people.map((person) => (\n    <tr\n      key={people + Math.random()}\n      onClick={() => this.setState({ selectedPersonId: person.id })}\n      className={\n        classnames(\n          `PeopleTable__row\n          ${ person.id === selectedPersonId\n            ? 'PeopleTable__row--selected' : ''}`,\n          `person--lived-in-${person.century}`,\n          {\n            'people__table--col': true,\n            'person--female': person.sex === 'f',\n            'person--male': person.sex === 'm',\n            'people__table--col-less1650': person.born < 1650,\n            'people__table--col-died1800': person.died > 1800,\n            'people__table--col-more65': person.age > 65,\n            'person--father': people\n              .filter(child => child.father === person.name)\n              .map(human => human.name)\n              .join(' '),\n            'person--mother': people\n              .filter(child => child.mother === person.name)\n              .map(human => human.name)\n              .join(' '),\n          }\n        )\n      }\n    >\n      <td>{ person.id }</td>\n      <td>\n        { person.name }\n      </td>\n      <td>\n        { person.sex }\n      </td>\n      <td>{ person.born }</td>\n      <td>{ person.died }</td>\n      <td>{ person.mother }</td>\n      <td>{ person.father}</td>\n      <td>{ person.age }</td>\n      <td>{ person.century }</td>\n      <td>{ person.children }</td>\n    </tr>\n  ));\n  return result;\n}\n\nrender() {\n  return (\n    <tbody>\n      { this.getClass() }\n    </tbody>\n  );\n}\n}\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\nexport default PeopleTable;\n","const getPeople = async() => {\n  const url = `\n  https://mate-academy.github.io/react_people-table/api/people.json\n  `;\n  const response = await fetch(url);\n  const peopleData = await response.json();\n  return peopleData;\n};\n\nexport default getPeople;\n","import React from 'react';\nimport PeopleTable from './components/PeopleTable';\nimport getPeople from './data/dataPeople';\nimport './App.css';\n\nconst sortPeople = ({ field, people, direction }) => {\n  const sortedData = people;\n  sortedData.sort((a, b) => {\n    switch (typeof a[field]) {\n      case 'string':\n        return direction * (a[field].localeCompare(b[field]));\n\n      case 'number':\n      case 'boolean':\n        return direction * (a[field] - b[field]);\n\n      default:\n        return 0;\n    }\n  });\n\n  return sortedData;\n};\nclass App extends React.Component {\n  state = {\n    people: [],\n    visiblePeople: [],\n    direction: 1,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async() => {\n    const people = await getPeople();\n    const preparedPeople = people.map((person, index) => ({\n      ...person,\n      id: index + 1,\n      age: person.died - person.born,\n      century: Math.ceil(person.died / 100),\n      children: people\n        .filter(child => child.father === person.name\n            || child.mother === person.name)\n        .map(human => human.name)\n        .join(', '),\n    })\n    )\n    this.setState({\n      visiblePeople: preparedPeople,\n      people: preparedPeople,\n    });\n  };\n\n  sortingBy = (field) => {\n    this.setState(prevState => ({\n      people: sortPeople(prevState),\n      direction: prevState.direction === 1 ? -1 : 1,\n      field,\n    }));\n  };\n\n  handleSearch = (event) => {\n    const search = event.target.value;\n    this.setState(prevState => ({\n      people: prevState.visiblePeople.filter(\n        person => [person.mother, person.name, person.mother]\n          .join('').toLowerCase().includes(search.toLowerCase())\n      ),\n    }));\n  };\n\n  render() {\n    const { people } = this.state;\n    return (\n        <>\n          <h1 className=\"people__title\">\n            People: {people.length}\n          </h1>\n          <form className=\"form-horizontal\">\n            <input\n              placeholder=\"Search...\"\n              onChange={this.handleSearch}\n              className=\"form-control mb-4\"\n            />\n          </form>\n          <table className=\"PeopleTable table\">\n            <thead>\n              <tr>\n                <th onClick={() => this.sortingBy('id')}>\n                  id:\n                </th>\n                <th onClick={() => this.sortingBy('name')}>\n                  name:\n                  <i className=\"fas fa-user\" />\n                </th>\n                <th onClick={() => this.sortingBy('sex')}>\n                  sex:\n                  <i className=\"fas fa-venus-mars\" />\n                </th>\n                <th onClick={() => this.sortingBy('born')}>\n                  born:\n                </th>\n                <th onClick={() => this.sortingBy('died')}>\n                  died:\n                </th>\n                <th onClick={() => this.sortingBy('mother')}>\n                  mother:\n                  <i className=\"fas fa-female\" />\n                </th>\n                <th onClick={() => this.sortingBy('father')}>\n                  father:\n                  <i className=\"fas fa-male\" />\n                </th>\n                <th onClick={() => this.sortingBy('age')}>\n                  age:\n                  <i className=\"fas fa-user-clock\" />\n                </th>\n                <th onClick={() => this.sortingBy('century')}>\n                  century:\n                </th>\n                <th onClick={() => this.sortingBy('children')}>\n                  children:\n                </th>\n              </tr>\n            </thead>\n            <PeopleTable people={people} />\n          </table>\n        </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}